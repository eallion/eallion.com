{{ define "main" }}
{{ .Scratch.Set "scope" "single" }}

<!-- LOL 英雄头像 API <https://lol.qq.com/cguide/Guide/PublicResources/Images.html#%E9%9D%9E%E7%82%AB%E5%BD%A9%E7%9A%AE%E8%82%A4> -->


<article>
  {{ if .Params.showHero | default (.Site.Params.article.showHero | default false) }}
  {{ $heroStyle := .Params.heroStyle }}
  {{ if not $heroStyle }}{{ $heroStyle = .Site.Params.article.heroStyle }}{{ end }}
  {{ $heroStyle := print "hero/" $heroStyle ".html" }}
  {{ if templates.Exists ( printf "partials/%s" $heroStyle ) }}
  {{ partial $heroStyle . }}
  {{ else }}
  {{ partial "hero/basic.html" . }}
  {{ end }}
  {{ end }}

  <header id="single_header" class="mt-5 max-w-prose">
    {{ if .Params.showBreadcrumbs | default (.Site.Params.article.showBreadcrumbs | default false) }}
    {{ partial "breadcrumbs.html" . }}
    {{ end }}
    <h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">
      {{ .Title }}
    </h1>

    <div class="mt-1 mb-6 text-base text-neutral-500 dark:text-neutral-400 print:hidden">
      {{ partial "article-meta/basic.html" (dict "context" . "scope" "single") }}
    </div>

  </header>

  <section class="flex flex-col max-w-full mt-0 prose dark:prose-invert lg:flex-row">

      <div class="min-w-0 min-h-0 max-w-fit">

        <div class="article-content max-w-full mb-20">
          {{ .Content }}

          <div class="grid w-full grid-cols-1 sm:grid-cols-2 md:grid-cols-3 mt-8 gap-x-2.5" view-image>
            {{ $pentaResource := resources.Get "data/penta/penta.json" }}
            {{ $penta := $pentaResource | transform.Unmarshal }}
            {{ if $penta }}
                {{ $sortedPenta := sort $penta "date" "desc" }}
                {{ range $sortedPenta }}
                    {{ $screenshotSrc := .screenshot }}

                    {{ $date := dateFormat "Jan 2, 2006" .date }}
                    {{ $caption := printf "%s - %s" .title .name }}

                    {{ $championSrc := .champion }}
                    {{ $champion := printf "images/penta/hero/%s.png" $championSrc }}
                    {{ $heroId := .heroId }}

                    <div class="flex justify-center items-center m-0 mb-2 flex-col">
                        <div class="group relative overflow-hidden rounded w-full h-full">
                                <figure class="mt-0 mb-0">
                                    <a href="https://images.eallion.com/directus/files/{{- $screenshotSrc -}}!pentaoriginal.avif">
                                        <img
                                            class="mt-0 mb-0 rounded-md block w-full cursor-pointer object-cover h-full scale-100 hover:scale-110 transition-all duration-400 ease-in-out animate-fadeIn lazy"
                                            loading="lazy"
                                            src="/assets/images/penta/screenshot.png"
                                            data-src="https://images.eallion.com/directus/files/{{- $screenshotSrc -}}!penta.avif"
                                            alt="{{ $caption }} {{ $date }}"
                                        /></a>
                                </figure>
                        </div>
                        <div class="w-11/12 flex justify-between items-center mt-2 mb-12 gap-5">
                            <a href="https://101.qq.com/#/hero-detail?heroid={{ $heroId }}" class="flex justify-center items-center text-neutral-900 dark:text-neutral-300" target="_blank" rel="noreferrer noopener nofollow">
                                <span class="leading-4 mr-1">
                                    <img class="w-4 h-4 mt-0 mb-0 lazy nozoom no-view"
                                        loading="lazy"
                                        src="/assets/images/penta/hero.png"
                                        data-src="https://game.gtimg.cn/images/lol/act/img/champion/{{- $championSrc -}}.png"
                                        alt="{{ $championSrc }}"
                                        no-view>
                                </span>
                                <span class="text-sm text-inherit whitespace-nowrap max-w-full text-ellipsis overflow-hidden">
                                    {{ $caption }}
                                </span>
                            </a>

                            <div class="flex items-center justify-center text-xs opacity-70 mb-0 mt-0">
                                <span class="relative block icon !mb-0"><svg xmlns="http://www.w3.org/2000/svg" width="0.88rem" height="1rem" viewBox="0 0 448 512"><path fill="currentColor" d="M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48"/></svg></span>
                                <span class="ml-1">{{ $date }}</span>
                            </div>
                        </div>
                    </div>
                {{ end }}
            {{ end }}
        </div>

        </div>

      </div>

    </section>

</article>

{{ $lazyloadJS := resources.Get "js/lazyload.iife.min.js" | fingerprint "sha256" }}
<script type="text/javascript" src="{{ $lazyloadJS.RelPermalink }}" integrity="{{ $lazyloadJS.Data.Integrity }}"></script>

<script>
    var lazyLoadInstance = new LazyLoad({
        // Your custom settings go here
    });
</script>

{{ $viewJS := resources.Get "js/view-image.min.js" | fingerprint "sha256" }}
<script type="text/javascript" src="{{ $viewJS.RelPermalink }}" integrity="{{ $viewJS.Data.Integrity }}"></script>
<script>
    window.ViewImage && ViewImage.init('figure a');
</script>

{{ end }}
