{{- define "title" }}{{ .Title }} - {{ .Site.Title }}{{ end -}}

{{- define "content" -}}
{{- $params := .Scratch.Get "params" -}}
{{- $toc := $params.toc -}}
{{- if eq $toc true -}}
{{- $toc = .Site.Params.page.toc | default dict -}}
{{- else if eq $toc false -}}
{{- $toc = dict "enable" false -}}
{{- end -}}

<meta name="referrer" content="no-referrer">
<link rel="stylesheet" href="/assets/APlayer.min.css?v=1.10.1">
<link rel="stylesheet" href="/assets/memos.min.css?v=2023.07.02">

<article class="page single special">
    <h1 class="single-title animate__animated animate__pulse animate__faster">{{ .Title }}</h1>
    <div id="content" class="content">
        <div class="greyQuote">
            <blockquote>
                <div class="memosCount">å…±å˜€å’•äº† <span id="memosCount"><i class="fas fa-spinner fa-pulse"></i></span> æ¡ <a href="https://memos.eallion.com/" target="_blank" rel="noreferrer noopener nofollow">Memos</a> <span class="emoji">ğŸ‰</span></div>
                <div class="editIcon">
                    <button id="editIcon" class="load-memos-editor outline p-1" type="button" aria-label="Memos">
                        <i class="far fa-edit fa-xs"></i>
                    </button>
                </div>
            </blockquote>
        </div>
        <div id="memos">
            <div id="album"></div>
            <!-- å˜€å’•åŠ è½½åœ¨è¿™é‡Œ -->
        </div>
    </div>
</article>

<script type="text/javascript">
    var memos = {
        host: 'https://memos.eallion.com/', //ä¿®æ”¹ä¸ºè‡ªå·±éƒ¨ç½² Memos çš„ç½‘å€ï¼Œæœ«å°¾æœ‰ / æ–œæ 
        limit: '10', //é»˜è®¤æ¯æ¬¡æ˜¾ç¤º 10 æ¡
        creatorId: '101', //é»˜è®¤ä¸º 101 ç”¨æˆ· https://demo.usememos.com/u/101
        domId: '#memos', //é»˜è®¤ä¸º #memos
    }
</script>

<script type="text/javascript" src="/assets/marked.min.js?v=4.2.2"></script>
<script type="text/javascript" src="/assets/moment.min.js?v=2.29.4"></script>
<script type="text/javascript" src="/assets/moment.twitter.min.js"></script>
<script type="text/javascript" src="/assets/APlayer.min.js?v=1.10.1"></script>
<script type="text/javascript" src="/assets/Meting.min.js?v=1.2"></script>
<script type="text/javascript" src="/assets/memos.min.js"></script>
<script type="text/javascript" src="/assets/highlight.min.js?v=11.7.0"></script>
<script type="text/javascript" src="/assets/view-image.min.js?v=2.0.2"></script>
<script type="text/javascript" src="/assets/coco-message.min.js?v=2.0.3"></script>

{{- /* Artalk Comment System */ -}}
{{ $ArtalkCSS := resources.Get "lib/artalk/ArtalkLite.css" | resources.Minify | resources.Fingerprint "sha256" }}
<link href="{{ $ArtalkCSS.RelPermalink }}" rel="stylesheet" integrity="{{ $ArtalkCSS.Data.Integrity }}" crossorigin="anonymous"></link>
{{ $ArtalkJS := resources.Get "lib/artalk/ArtalkLite.js" | resources.Minify | resources.Fingerprint "sha256" }}
<script type="text/javascript" src="{{ $ArtalkJS.RelPermalink }}" integrity="{{ $ArtalkJS.Data.Integrity }}" crossorigin="anonymous"></script>
<script>
    window.onload = function() {
        Artalk.loadCountWidget({
            server: 'https://api.eallion.com/artalk/',
            site: 'memos',
            pvEl: '#ArtalkPV',
            countEl: '#ArtalkCount',
        });
    }
</script>

<script>
    window.ViewImage && ViewImage.init('.content img');
</script>

<script>
    // Meting API self-hosted
    var meting_api='https://api.eallion.com/meting/?server=:server&type=:type&id=:id&auth=:auth&r=:r';
</script>
{{- end -}}
