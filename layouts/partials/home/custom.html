{{ $disableImageOptimization := .Site.Params.disableImageOptimization | default false }}

<!-- <meta http-equiv="onion-location" content="http://eallionskii7e32j3ncxnccyqq6uf7rbxwmst4x6mxeswx6fvrdtsmad.onion" /> -->

<style>#content_progress{display:none;}</style>

<section class="max-w-full prose dark:prose-invert">
    <div class="relative">
        <div class="absolute inset-x-0 bottom-0 h-1/2"></div>
        <div class="mx-auto max-w-7xl p-0">
            <div class="relative sm:overflow-hidden">
                <div class="fixed inset-x-0 top-0 -z-10">
                    {{ $useDefault := true }}
                    {{ $homepageImage := "" }}
                    {{ with .Site.Params.defaultBackgroundImage }}
                        {{ if or (strings.HasPrefix . "http:") (strings.HasPrefix . "https:") }}
                            {{ $homepageImage = resources.GetRemote . }}
                            {{ $useDefault = false }}
                        {{ else }}
                            {{ $homepageImage = resources.Get . }}
                            {{ $useDefault = false }}
                        {{ end }}
                    {{ end }}
                    {{ with .Site.Params.homepage.homepageImage }}
                        {{ if or (strings.HasPrefix . "http:") (strings.HasPrefix . "https:") }}
                            {{ $homepageImage = resources.GetRemote . }}
                        {{ else }}
                            {{ $homepageImage = resources.Get . }}
                        {{ end }}
                    {{ end }}
                    {{ if $homepageImage }}
                        {{ $style := "" }}
                        {{ $defaultPosition := cond $useDefault site.Params.imagePosition false }}
                        {{ with $.Params.imagePosition | default $defaultPosition }}
                          {{ $style = printf "object-position: %s;" . }}
                        {{ end }}
                        <img
                          id="background-image"
                          class="nozoom mt-0 mr-0 mb-0 ml-0 h-[1000px] w-full object-cover"
                          src="{{ $homepageImage.RelPermalink }}"
                          role="presentation"
                          {{ if $style }}style="{{ $style | safeCSS }}"{{ end }}>
                    {{/*
                    <video
                      class="w-full h-[1000px] object-cover nozoom mt-0 mr-0 mb-0 ml-0"
                      webkit-playsinline="true"
                      x-webkit-airplay="true"
                      playsinline="true"
                      x5-video-player-type="h5"
                      x5-video-orientation="h5"
                      x5-video-player-fullscreen="true"
                      preload="auto"
                      autoplay="true"
                      loop=""
                      muted="">
                      {{ $webmSource := resources.Get "images/video_WebTitle_batch.webm" }}
                      <source src="{{ $webmSource.RelPermalink }}" type="video/webm">
                      <source src="{{ $homepageImage.RelPermalink }}" type="video/mp4">
                      Your browser does not support the video tag.
                    </video>
                    */}}
                      <div
                        class="from-neutral absolute inset-0 h-[1000px] bg-gradient-to-t to-transparent mix-blend-normal dark:from-neutral-800"></div>
                      <div
                        class="from-neutral absolute inset-0 h-[1000px] bg-gradient-to-t to-neutral-100 opacity-60 mix-blend-normal dark:from-neutral-800 dark:to-neutral-800"></div>
                    {{ end }}
                  </div>
                  <div class="relative flex flex-col items-center justify-center px-1 py-1 text-center">
                    {{ with .Site.Params.Author.image }}
                        {{ $authorImage := "" }}
                        {{ if or (strings.HasPrefix . "http:") (strings.HasPrefix . "https:") }}
                            {{ $authorImage = resources.GetRemote . }}
                        {{ else }}
                            {{ $authorImage = resources.Get . }}
                        {{ end }}
                        {{ if $authorImage }}
                            {{ $final := $authorImage }}
                            {{ if not $disableImageOptimization }}
                                {{ $final = $authorImage.Fill (print "288x288 q" ( $.Site.Params.Author.imagequality | default "96" )) }}
                            {{ end }}
                            <div class="tailwind-ticker w-auto relative group flex items-end transition-all duration-300">
                                <div class="rounded-full overflow-hidden min-w-[144px]">
                                    <img class="mb-2 h-36 w-36 nozoom rounded-full"
                                      width="144"
                                      height="144"
                                      alt="{{ $.Site.Params.Author.name | default `Author` }}"
                                      src="{{ $final.RelPermalink }}"
                                      data-zoom-src="{{ $authorImage.RelPermalink }}">
                                </div>
                                <div class="absolute bottom-0 left-full -ml-9 mb-1 w-8 h-8 rounded-full flex items-center justify-center group-hover:w-min group-hover:h-8 group-hover:rounded-lg transition-all duration-300">
                                  <div class="ticker hidden sm:flex w-9 sm:w-[226px] md:w-[295px] lg:w-[476px] min-w-[36px] transition-all duration-300">
                                      <div id="ticker" class="flex">
                                        {{ $mastodonData := "" }}
                                        {{ with resources.Get "data/mastodon/mastodon.json" }}
                                          {{ $mastodonData = . | transform.Unmarshal }}
                                        {{ end }}

                                        {{ if $mastodonData }}
                                          {{ if gt (len $mastodonData) 0 }}
                                            <div class="ticker-header"></div>
                                            <ul class="ticker-list">
                                              {{ range $index, $item := first 10 $mastodonData }}
                                                {{ $isReblog := false }}
                                                {{ $content := "" }}

                                                {{ if and $item.reblog $item.reblog.content }}
                                                  {{ $isReblog = true }}
                                                  {{ $content = $item.reblog.content }}
                                                {{ else if $item.content }}
                                                  {{ $content = $item.content }}
                                                {{ end }}

                                                {{ if $content }}
                                                  {{ $textContent := $content | plainify }}
                                                  {{ $textContent = replace $textContent ":star_empty:" "üåë" }}
                                                  {{ $textContent = replace $textContent ":star_half:" "üåó" }}
                                                  {{ $textContent = replace $textContent ":star_solid:" "üåï" }}

                                                  <li class="ticker-item{{ if eq $index 0 }} active{{ end }}" data-index="{{ $index }}" data-created-at="{{ $item.created_at }}">
                                                    <span class="datetime ml-1" data-time="{{ $item.created_at }}"></span>
                                                    <a href="{{ $item.url }}" target="_blank" rel="noopener noreferrer">{{ if $isReblog }}„ÄêËΩ¨„Äë{{ end }}{{ $textContent }}</a>
                                                  </li>
                                                {{ end }}
                                              {{ end }}
                                            </ul>
                                          {{ else }}
                                            <div class="ticker-header"></div>
                                            <ul class="ticker-list">
                                              <li class="ticker-item active" data-index="0">
                                                <span class="datetime ml-1">ÂàöÂàö</span>
                                                <a href="https://www.eallion.com/mastodon/" target="_blank" rel="noopener noreferrer">ÊöÇÊó†Âä®ÊÄÅÊï∞ÊçÆ</a>
                                              </li>
                                            </ul>
                                          {{ end }}
                                        {{ else }}
                                          <div class="ticker-header"></div>
                                          <ul class="ticker-list">
                                            <li class="ticker-item active" data-index="0">
                                              <span class="datetime ml-1">ÂàöÂàö</span>
                                              <a href="https://www.eallion.com/mastodon/" target="_blank" rel="noopener noreferrer">Êú∫‰ºöÊÄªÊòØÂûÇÈùí‰∫éÊúâÂáÜÂ§áÁöÑ‰∫∫ÔºÅ</a>
                                            </li>
                                          </ul>
                                        {{ end }}
                                      </div>
                                  </div>
                              </div>
                            </div>

                        {{ end }}
                    {{ end }}
                    <h1 class="mb-2 text-4xl font-extrabold text-neutral-800 dark:text-neutral-200">
                        {{ .Site.Params.Author.name | default .Site.Title }}
                    </h1>
                    {{/*  {{ with .Site.Params.Author.headline }}  */}}
                    <h2 class="mt-0 mb-0 text-xl text-neutral-800 dark:text-neutral-300">
                        {{/*  {{ . | markdownify }}  */}}
                        <div id="poem_sentence" class="min-h-7 text-base md:text-xl">ÊòéÊúàÊùæÈó¥ÁÖßÔºåÊ∏ÖÊ≥âÁü≥‰∏äÊµÅ„ÄÇ</div>
                    </h2>
                    {{/*  {{ end }}  */}}
                    <div class="my-3 text-2xl mt-4 mb-12">
                        {{ with .Site.Params.Author.links }}
                        <div class="flex flex-wrap">
                            {{ range $links := . }}
                            {{ range $name, $url := $links }}
                            <a class="hover:text-primary-400 text-primary-800 dark:text-primary-200 px-1"
                              href="{{ $url }}"
                              target="_blank"
                              aria-label="{{ $name | title }}"
                              title="{{ $name | title }}"
                              rel="me noopener noreferrer">
                              {{ partial "icon.html" $name }}
                            </a>
                            {{ end }}
                            {{ end }}
                        </div>
                        {{ end }}
                    </div>

                    {{/* AnyNow Section */}}

                    <div class="anynow w-full bg-neutral-200/30 dark:bg-neutral-700/30 py-8 rounded-xl shadow-md my-10">
                      <div class="flex flex-col items-center">
                        <div class="flex flex-col md:flex-row items-center justify-center text-center pb-5 font-bold text-2xl mb-2">AnyNow Œ≤eta</div>
                        <div class="w-full max-w-11/12 h-3 bg-neutral-200 dark:bg-neutral-600 rounded-full">
                          <div id="anynow" class="h-full bg-primary-500 rounded-full" style="width: 62%"></div>
                        </div>
                        <div class="w-5/6 max-w-5/6 flex justify-start mt-8 mb-4">
                          <div class="relative flex items-center">
                            <div
                              class="z-10 h-6 w-6 rounded-full bg-blue-500 border-4 border-white ring-4 ring-blue-500 dark:border-neutral-700 dark:ring-blue-500">
                            </div>
                            <div class="ml-4 p-2 text-sm text-left font-medium text-gray-700 dark:text-gray-300">
                              <div class="flex cursor-pointer mb-2">
                                <span
                                  class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">Nov 1, 2025</span>
                              </div>
                              <div class="text-base font-semibold text-gray-900 dark:text-white">[#0] Èõ∂Âè∑‰∫ã‰ª∂ (wip)ÔºöBeta ÁâàÊú¨ÂºÄÂèë‰∏≠</div>
                              <p class="text-xs text-gray-500 dark:text-gray-400 mt-1"> Q4 2025, 62% completed. Directus deployed as backend.</p>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    {{/* Latest Article Section */}}
                    {{ range first 1 (.Paginate (where .Site.RegularPages "Type" "in" .Site.Params.mainSections)).Pages }}
                      <div class="w-full overflow-hidden transform transition duration-300 mt-12">
                        <div class="flex flex-col lg:flex-row items-center lg:items-start">
                          <div class="max-w-full lg:max-w-3/7 flex-shrink-0 mb-4">
                            <a href="{{ .Permalink }}">
                            <div
                              class="w-full relative aspect-[3/2] overflow-hidden rounded-md bg-blurple-gradient md:col-span-6 shadow-lg ring-blurple-500 group-hover:ring-2">
                              {{ $disableImageOptimization := site.Store.Get "disableImageOptimization" }}

                              {{ $page := .Page }}
                              {{ $featured := "" }}
                              {{ $featuredURL := "" }}
                              {{ if not .Params.hideFeatureImage }}
                                {{/* frontmatter */}}
                                {{ with $page }}
                                  {{ with .Params.featureimage }}
                                    {{ if or (strings.HasPrefix . "http:") (strings.HasPrefix . "https:") }}
                                      {{ if site.Params.hotlinkFeatureImage }}
                                        {{ $featuredURL = . }}
                                      {{ else }}
                                        {{ $featured = resources.GetRemote . }}
                                      {{ end }}
                                    {{ else }}
                                      {{ $featured = resources.Get . }}
                                    {{ end }}
                                  {{ end }}

                                  {{/* page resources */}}
                                  {{ if not (or $featured $featuredURL) }}
                                    {{ $images := .Resources.ByType "image" }}
                                    {{ range slice "*feature*" "*cover*" "*thumbnail*" }}
                                      {{ if not $featured }}{{ $featured = $images.GetMatch . }}{{ end }}
                                    {{ end }}
                                  {{ end }}

                                  {{/* fallback to default */}}
                                  {{ if not (or $featured $featuredURL) }}
                                    {{ $default := site.Store.Get "defaultFeaturedImage" }}
                                    {{ if $default.url }}
                                      {{ $featuredURL = $default.url }}
                                    {{ else if $default.obj }}
                                      {{ $featured = $default.obj }}
                                    {{ end }}
                                  {{ end }}

                                  {{/* generate image URL if not hotlink */}}
                                  {{ if not $featuredURL }}
                                    {{ with $featured }}
                                      {{ $featuredURL = .RelPermalink }}
                                      {{ if not (or $disableImageOptimization (eq .MediaType.SubType "svg")) }}
                                        {{ $featuredURL = (.Resize "600x").RelPermalink }}
                                      {{ end }}
                                    {{ end }}
                                  {{ end }}
                                {{ end }}
                              {{ end }}
                              {{ with $featuredURL }}
                              <img src="{{ . }}" alt="{{ $page.Title | plainify }}" loading="lazy" decoding="async"
                                class="inset-0 w-full h-full object-cover mt-0 mb-0">
                              {{ end }}
                            </div></a>
                          </div>

                          <div class="px-0 lg:px-6 flex flex-col h-full">
                            <div
                              class="flex flex-col lg:flex-row items-start lg:items-center gap-x-4 text-sm text-neutral-500 dark:text-neutral-400">
                              <time datetime="{{ .Date }}">{{ .Date | time.Format (site.Language.Params.dateFormat | default ":date_long")
                                }}</time>
                              <div class="flex flex-row flex-wrap items-center">
                                {{ with .GetTerms "categories" }}
                                {{ range . }}
                                <a class="relative me-2" href="{{ .Permalink }}">
                                  <span class="flex cursor-pointer">
                                    <span
                                      class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">{{
                                      .LinkTitle }}
                                    </span>
                                  </span>
                                </a>
                                {{ end }}
                                {{ end }}
                                <div class="mr-2">&middot;</div>
                                {{ with .GetTerms "tags" }}
                                {{ range . }}
                                <a class="relative me-2" href="{{ .Permalink }}">
                                  <span class="flex cursor-pointer">
                                    <span
                                      class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">{{
                                      .LinkTitle }}
                                    </span>
                                  </span>
                                </a>
                                {{ end }}
                                {{ end }}
                              </div>
                            </div>
                            <div class="relative flex flex-col items-start my-4">
                              <a href="{{ .Permalink }}"
                                class="not-prose before:absolute before:inset-0 decoration-primary-500 dark:text-neutral text-xl font-bold text-neutral-800 hover:underline hover:underline-offset-2">
                                <h2 class="inline"><svg class="ml-1" width="1.5em" height="1.5em" viewBox="0 0 1024 1024">
                                    <path fill="#EE502F"
                                      d="M246 287h553c125 0 225 100 225 225S924 737 799 737H0V532c0-135 111-245 246-245m133 348V401h-31v179L236 401h-31v234h31V457l112 178zm182-109v-24h-96v-76h110v-25H434v234h144v-25H465v-84zm101 29-35-152h-35l55 234h29l47-162 4-20 4 20 47 162h29l57-234h-35l-32 152-4 31-7-31-41-152h-30l-41 152-6 31z" />
                                  </svg> {{ .Title | emojify }}</h2>
                              </a>
                              <p class="text-left mb-0">ÊëòË¶ÅÔºö{{ .Summary | markdownify | safeHTML }}</p>
                            </div>
                          </div>
                        </div>
                      </div>
                    {{ end }}

                </div>
            </div>
        </div>
    </div>
</section>

<section>

    <h2 class="mt-8 text-2xl font-extrabold mb-10">{{ i18n "shortcode.recent_articles" }}</h2>

    <section class="home-article w-full grid gap-4 sm:grid-cols-2 md:grid-cols-3">
      {{ $pages := where .Site.RegularPages "Type" "in" .Site.Params.mainSections }}
      {{ $paginatedPages := .Paginate $pages }}
      {{ $filteredPages := after 1 $paginatedPages.Pages }}
      {{ range first 6 $filteredPages }}
        {{ partial "article-link/card.html" . }}
      {{ end }}
    </section>

    <div class="mt-10 flex justify-center">
    <a href="/blog">
        <button class="bg-transparent hover:text-primary-500 prose dark:prose-invert font-semibold hover:text-white py-2 px-4 border border-primary-500 hover:border-transparent rounded cursor-pointer" type="button">
        {{ i18n "recent.show_more" | markdownify }}
        </button>
    </a>
    </div>

</section>

{{ if .Site.Params.homepage.layoutBackgroundBlur | default false }}
<div id="background-blur" class="fixed opacity-0 inset-x-0 top-0 h-full single_hero_background nozoom backdrop-blur-2xl"></div>

<script>
    const poemSentences = [
        "‰∏ÄÁîüÂ§ßÁ¨ëËÉΩÂá†ÂõûÔºåÊñóÈÖíÁõ∏ÈÄ¢È°ªÈÜâÂÄí„ÄÇ",
        "ÊääÈÖíÂØπÊñúÊó•ÔºåÊó†ËØ≠ÈóÆË•øÈ£é„ÄÇ",
        "Á∫¢ÈÖ•ÊâãÔºåÈªÑÁ∏¢ÈÖíÔºåÊª°ÂüéÊò•Ëâ≤ÂÆ´Â¢ôÊü≥„ÄÇ",
        "Ë¢´ÈÖíËé´ÊÉäÊò•Áù°ÈáçÔºåËµå‰π¶Ê∂àÂæóÊ≥ºËå∂È¶ôÔºåÂΩìÊó∂Âè™ÈÅìÊòØÂØªÂ∏∏„ÄÇ",
        "ÊääÈÖíÁ•ù‰∏úÈ£é„ÄÇ‰∏îÂÖ±‰ªéÂÆπ„ÄÇ",
        "ÈÖíÂÖ•ÊÑÅËÇ†ÔºåÂåñ‰ΩúÁõ∏ÊÄùÊ≥™„ÄÇ",
        "ÁôΩÊó•ÊîæÊ≠åÈ°ªÁ∫µÈÖíÔºåÈùíÊò•‰Ωú‰º¥Â•ΩËøò‰π°„ÄÇ",
        "ÂÖ∞ÈôµÁæéÈÖíÈÉÅÈáëÈ¶ôÔºåÁéâÁ¢óÁõõÊù•Áê•ÁèÄÂÖâ„ÄÇ",
        "ÁªøËöÅÊñ∞ÈÜÖÈÖíÔºåÁ∫¢Ê≥•Â∞èÁÅ´ÁÇâ„ÄÇ",
        "‰∏ÄÂ£∂ÈÖíÔºå‰∏ÄÁ´øË∫´ÔºåÂø´Ê¥ªÂ¶Ç‰æ¨ÊúâÂá†‰∫∫„ÄÇ",
        "È£éÂêπÊü≥Ëä±Êª°Â∫óÈ¶ôÔºåÂê¥Âß¨ÂéãÈÖíÂî§ÂÆ¢Â∞ù„ÄÇ",
        "ÈÖíÂÄ∫ÂØªÂ∏∏Ë°åÂ§ÑÊúâÔºå‰∫∫Áîü‰∏ÉÂçÅÂè§Êù•Á®Ä„ÄÇ",
        "‰∏îÂ∞±Ê¥ûÂ∫≠ËµäÊúàËâ≤ÔºåÂ∞ÜËàπ‰π∞ÈÖíÁôΩ‰∫ëËæπ„ÄÇ",
        "ÂîØÊÑøÂΩìÊ≠åÂØπÈÖíÊó∂ÔºåÊúàÂÖâÈïøÁÖßÈáëÊ®ΩÈáå„ÄÇ",
        "Êñ∞‰∏∞ÁæéÈÖíÊñóÂçÅÂçÉÔºåÂí∏Èò≥Ê∏∏‰æ†Â§öÂ∞ëÂπ¥„ÄÇ",
        "Êú±Âº¶Â∑≤‰∏∫‰Ω≥‰∫∫ÁªùÔºåÈùíÁúºËÅäÂõ†ÁæéÈÖíÊ®™„ÄÇ",
        "ÊµäÈÖí‰∏ÄÊùØÂÆ∂‰∏áÈáåÔºåÁáïÁÑ∂Êú™ÂãíÂΩíÊó†ËÆ°„ÄÇ",
        "‰∏úÁØ±ÊääÈÖíÈªÑÊòèÂêéÔºåÊúâÊöóÈ¶ôÁõàË¢ñ„ÄÇ",
        "ÊÑÅËÇ†Â∑≤Êñ≠Êó†Áî±ÈÜâÔºåÈÖíÊú™Âà∞ÔºåÂÖàÊàêÊ≥™„ÄÇ",
        "Êò®Â§úÈõ®ÁñèÈ£éÈ™§ÔºåÊµìÁù°‰∏çÊ∂àÊÆãÈÖí„ÄÇ",
        "Á¨ëÂ∞Ω‰∏ÄÊùØÈÖíÔºåÊùÄ‰∫∫ÈÉΩÂ∏Ç‰∏≠„ÄÇ",
        "Âπ∏ÈÅá‰∏âÊùØÈÖíÂ•ΩÔºåÂÜµÈÄ¢‰∏ÄÊúµËä±Êñ∞„ÄÇ",
        "ÈÖíÂõ∞Ë∑ØÈïøÊÉüÊ¨≤Áù°ÔºåÊó•È´ò‰∫∫Ê∏¥Êº´ÊÄùËå∂„ÄÇ",
        "‰∏∫ÂêõÊåÅÈÖíÂäùÊñúÈò≥Ôºå‰∏îÂêëËä±Èó¥ÁïôÊôöÁÖß„ÄÇ",
        "ÈÅ•Áü•Êπñ‰∏ä‰∏ÄÊ®ΩÈÖíÔºåËÉΩÂøÜÂ§©Ê∂Ø‰∏áÈáå‰∫∫„ÄÇ",
        "Ëç∑Ëä±ÂºÄÂêéË•øÊπñÂ•ΩÔºåËΩΩÈÖíÊù•Êó∂„ÄÇ",
        "ÈáëÊ®ΩÊ∏ÖÈÖíÊñóÂçÅÂçÉÔºåÁéâÁõòÁèçÁæûÁõ¥‰∏áÈí±„ÄÇ",
        "ÁªøÈÖíÂàùÂ∞ù‰∫∫ÊòìÈÜâ„ÄÇ‰∏ÄÊûïÂ∞èÁ™óÊµìÁù°„ÄÇ",
        "‰∏î‰πêÁîüÂâç‰∏ÄÊùØÈÖíÔºå‰ΩïÈ°ªË∫´ÂêéÂçÉËΩΩÂêçÔºü",
        "Á¨ëÊùÄÈô∂Ê∏äÊòéÔºå‰∏çÈ•ÆÊùØ‰∏≠ÈÖí„ÄÇ",
        "‰∏â‰∫îÂπ¥Êó∂‰∏â‰∫îÊúàÔºåÂèØÊÄúÊùØÈÖí‰∏çÊõæÊ∂à„ÄÇ",
        "Á∫¢Âè∂ÊôöËêßËêßÔºåÈïø‰∫≠ÈÖí‰∏ÄÁì¢„ÄÇ",
        "ÊµäÈÖí‰∏çÈîÄÂøßÂõΩÊ≥™ÔºåÊïëÊó∂Â∫î‰ªóÂá∫Áæ§Êâç„ÄÇ",
        "Ë∞ÅÁü•Ê±ü‰∏äÈÖíÔºåËøò‰∏éÊïÖ‰∫∫ÂÄæ„ÄÇ",
        "‰∫∫ÁîüÊúâÈÖíÈ°ªÂΩìÈÜâÔºå‰∏ÄÊª¥‰ΩïÊõæÂà∞‰πùÊ≥â„ÄÇ",
        "ËΩΩÈÖí‰π∞Ëä±Âπ¥Â∞ë‰∫ãÔºåÊµë‰∏ç‰ººÔºåÊóßÂøÉÊÉÖ„ÄÇ",
        "ÂçäÂ§©ÂáâÊúàËâ≤Ôºå‰∏ÄÁ¨õÈÖí‰∫∫ÂøÉ„ÄÇ",
        "‰ªäÊó•Âê¨ÂêõÊ≠å‰∏ÄÊõ≤ÔºåÊöÇÂá≠ÊùØÈÖíÈïøÁ≤æÁ•û„ÄÇ",
        "Ëâ∞ÈöæËã¶ÊÅ®ÁπÅÈúúÈ¨ìÔºåÊΩ¶ÂÄíÊñ∞ÂÅúÊµäÈÖíÊùØ„ÄÇ",
        "ÈöîÂ∫ßÈÄÅÈí©Êò•ÈÖíÊöñÔºåÂàÜÊõπÂ∞ÑË¶ÜËú°ÁÅØÁ∫¢„ÄÇ",
        "Ê∞¥Ë∞ÉÊï∞Â£∞ÊåÅÈÖíÂê¨„ÄÇÂçàÈÜâÈÜíÊù•ÊÑÅÊú™ÈÜí„ÄÇ",
        "Êó†Ëä±Êó†ÈÖíËøáÊ∏ÖÊòéÔºåÂÖ¥Âë≥ËêßÁÑ∂‰ººÈáéÂÉß„ÄÇ",
        "ÈÖíÊµìÊò•ÂÖ•Ê¢¶ÔºåÁ™óÁ†¥ÊúàÂØª‰∫∫„ÄÇ",
        "Â∞èÊ°•ÂÆÖÔºåÊÄïÊ¢®Ëä±ËêΩÂ∞ΩÊàêÁßãËâ≤„ÄÇ",
        "‰∏áÈáå‰∏≠ÂéüÁÉΩÁÅ´ÂåóÔºå‰∏ÄÂ∞äÊµäÈÖíÊàçÊ•º‰∏ú„ÄÇ",
        "ÈÖíÁõàÊùØÔºå‰π¶Êª°Êû∂ÔºåÂêçÂà©‰∏çÂ∞ÜÂøÉÊåÇ„ÄÇ",
        "Â∫≠ËΩ©ÂØÇÂØûËøëÊ∏ÖÊòéÔºåÊÆãËä±‰∏≠ÈÖíÔºåÂèàÊòØÂéªÂπ¥ÁóÖ„ÄÇ",
        "ÂØπÈÖíÂΩìÊ≠åÔºåÂº∫‰πêËøòÊó†Âë≥„ÄÇ",
        "‰ªñ‰π°ÂÖ±ÈÖåÈáëËä±ÈÖíÔºå‰∏áÈáåÂêåÊÇ≤È∏øÈõÅÂ§©„ÄÇ",
        "ÂøÉÊñ≠Êñ∞‰∏∞ÈÖíÔºåÈîÄÊÑÅÊñóÂá†ÂçÉ„ÄÇ",
        "ÈÄÅË°åÊó†ÈÖí‰∫¶Êó†Èí±ÔºåÂäùÂ∞î‰∏ÄÊùØËè©Ëê®Ê≥â„ÄÇ",
        "ÁôΩÈÖíÊñ∞ÁÜüÂ±±‰∏≠ÂΩíÔºåÈªÑÈ∏°ÂïÑÈªçÁßãÊ≠£ËÇ•„ÄÇ",
        "Ëã•ÂæÖÂæóÂêõÊù•ÂêëÊ≠§ÔºåËä±ÂâçÂØπÈÖí‰∏çÂøçËß¶„ÄÇ",
        "Á©∑ÊÑÅÂçÉ‰∏áÁ´ØÔºåÁæéÈÖí‰∏âÁôæÊùØ„ÄÇ",
        "‰πùÊó•ÊòéÊúùÈÖíÈ¶ôÔºå‰∏ÄÂπ¥Â•ΩÊôØÊ©ôÈªÑ„ÄÇ",
        "Êó•Êó•Ê∑±ÊùØÈÖíÊª°ÔºåÊúùÊúùÂ∞èÂúÉËä±ÂºÄ„ÄÇ",
        "Âê¥ÈÖí‰∏ÄÊùØÊò•Á´πÂè∂ÔºåÂê¥Â®ÉÂèåËàûÈÜâËäôËìâ„ÄÇ",
        "Â∞èÈÖåÈÖíÂ∑°ÈîÄÊ∞∏Â§úÔºåÂ§ßÂºÄÂè£Á¨ëÈÄÅÊÆãÂπ¥„ÄÇ",
        "‰∏çÊÄïÈ£éÁãÇÈõ®È™§ÔºåÊÅ∞ÊâçÁß∞ÔºåÁÖÆÈÖíÁ¨∫Ëä±„ÄÇ",
        "‰ªäÊó•ÊöÇÂêåËä≥ËèäÈÖíÔºåÊòéÊúùÂ∫î‰ΩúÊñ≠Ëì¨È£û„ÄÇ",
        "ÊùæÂè∂Â†™‰∏∫ÈÖíÔºåÊò•Êù•ÈÖøÂá†Â§ö„ÄÇ",
        "ÂæóÊ¨¢ÂΩì‰Ωú‰πêÔºåÊñóÈÖíËÅöÊØîÈÇª„ÄÇ",
        "ÈÖíÁõèÊóãÂ∞ÜËç∑Âè∂ÂΩì„ÄÇËé≤ËàüËç°„ÄÇÊó∂Êó∂ÁõèÈáåÁîüÁ∫¢Êµ™„ÄÇ",
        "Â±±ËøúËøëÔºåË∑ØÊ®™ÊñúÔºåÈùíÊóóÊ≤ΩÈÖíÊúâ‰∫∫ÂÆ∂„ÄÇ",
        "ËÄÅ‰∫∫‰∏ÉÂçÅ‰ªçÊ≤ΩÈÖíÔºåÂçÉÂ£∂ÁôæÁìÆËä±Èó®Âè£„ÄÇ",
        "ÈÖíÁæéÊ¢ÖÈÖ∏ÔºåÊÅ∞Áß∞‰∫∫ÊÄÄÊä±„ÄÇ",
        "ÊÆãÈÖíÂøÜËçÜÈ´òÔºåÁáïËµµÊÇ≤Ê≠å‰∫ãÊú™Ê∂à„ÄÇ",
        "Âá†Â∫¶ÊÄùÂΩíËøòÊääÈÖíÔºåÊãÇ‰∫ëÂ†Ü‰∏äÁ•ùÊòéÂ¶É„ÄÇ",
        "ÈÖåÈÖí‰ª•Ëá™ÂÆΩÔºå‰∏æÊùØÊñ≠ÁªùÊ≠åË∑ØÈöæ„ÄÇ",
        "Êò•Ê±üËä±ÊúùÁßãÊúàÂ§úÔºåÂæÄÂæÄÂèñÈÖíËøòÁã¨ÂÄæ„ÄÇ",
        "ÈÖíÈòëÊõ¥ÂñúÂõ¢Ëå∂Ëã¶ÔºåÊ¢¶Êñ≠ÂÅèÂÆúÁëûËÑëÈ¶ô„ÄÇ",
        "ÊòìÈÜâÊâ∂Â§¥ÈÖíÔºåÈöæÈÄ¢ÊïåÊâãÊ£ã„ÄÇ",
        "ÈÖåÈÖí‰ºö‰∏¥Ê≥âÊ∞¥ÔºåÊä±Áê¥Â•ΩÂÄöÈïøÊùæ„ÄÇ",
        "Êñ≠È¶ôÊÆãÈÖíÊÉÖÊÄÄÊÅ∂„ÄÇË•øÈ£éÂÇ¨Ë°¨Ê¢ßÊ°êËêΩ„ÄÇ",
        "Âº∫Ê¨≤ÁôªÈ´òÂéªÔºåÊó†‰∫∫ÈÄÅÈÖíÊù•„ÄÇ",
        "ËêΩËä±ÁãºËóâÈÖíÈòëÁèäÔºåÁ¨ôÊ≠åÈÜâÊ¢¶Èó¥„ÄÇ",
        "Êú®ÂÖ∞Ëàü‰∏äÁè†Â∏òÂç∑ÔºåÊ≠åÂ£∞ËøúÔºåÊ§∞Â≠êÈÖíÂÄæÈπ¶ÈπâÁõè„ÄÇ",
        "Ëä±Êó∂ÂêåÈÜâÁ†¥Êò•ÊÑÅÔºåÈÜâÊäòËä±Êûù‰ΩúÈÖíÁ≠π„ÄÇ",
        "ËÑ±Ë°£Êç¢ÂæóÂïÜÂ±±ÈÖíÔºåÁ¨ëÊääÁ¶ªÈ™öÁã¨Ëá™ÂÄæ„ÄÇ",
        "ÂΩìËΩ©ÂØπÂ∞äÈÖíÔºåÂõõÈù¢ËäôËìâÂºÄ„ÄÇ",
        "ÊÄÄÂÆ∂ÂØíÈ£üÂ§úÔºå‰∏≠ÈÖíËêΩËä±Â§©„ÄÇ",
        "ÈÅìÂÇçÊ¶ÜËçö‰ªç‰ººÈí±ÔºåÊëòÊù•Ê≤ΩÈÖíÂêõËÇØÂê¶„ÄÇ",
        "Êº´ÊÉπÁÇâÁÉüÂèåË¢ñÁ¥´ÔºåÁ©∫Â∞ÜÈÖíÊôï‰∏ÄË°´Èùí„ÄÇ",
        "ÊµÖÊääÊ∂ìÊ∂ìÈÖíÔºåÊ∑±Âá≠ÈÄÅÊ≠§Áîü„ÄÇ",
        "Èô©ÈüµËØóÊàêÔºåÊâ∂Â§¥ÈÖíÈÜíÔºåÂà´ÊòØÈó≤ÊªãÂë≥„ÄÇ",
        "ÂäùÂêõÁªàÊó•ÈÖ©ÈÖäÈÜâÔºåÈÖí‰∏çÂà∞Âàò‰º∂Âùü‰∏äÂúü„ÄÇ",
        "ÁèçÈáç‰∏ª‰∫∫ÂøÉÔºåÈÖíÊ∑±ÊÉÖ‰∫¶Ê∑±„ÄÇ",
        "ÂñúÂæóÊïÖ‰∫∫ÂêåÂæÖËØèÔºåÊãüÊ≤ΩÊò•ÈÖíÈÜâ‰∫¨Âçé„ÄÇ",
        "ÊÑü‰πãÊ¨≤ÂèπÊÅØÔºåÂØπÈÖíËøòËá™ÂÄæ„ÄÇ",
        "ÈÖíÊú™ÂºÄÊ®ΩÂè•Êú™Ë£ÅÔºåÂØªÊò•ÈóÆËÖäÂà∞Ëì¨Ëé±„ÄÇ",
        "Êä•Á≠îÊò•ÂÖâÁü•ÊúâÂ§ÑÔºåÂ∫îÈ°ªÁæéÈÖíÈÄÅÁîüÊ∂Ø„ÄÇ",
        "Êñ∞ÂØí‰∏≠ÈÖíÊï≤Á™óÈõ®ÔºåÊÆãÈ¶ôÁªÜË¢ÖÁßãÊÉÖÁª™„ÄÇ",
        "‰ΩïÂΩìËΩΩÈÖíÊù•ÔºåÂÖ±ÈÜâÈáçÈò≥ËäÇ„ÄÇ",
        "Êó†ËÆ°Â•àÊÉÖ‰ΩïÔºå‰∏îÈÜâÈáëÊùØÈÖí„ÄÇ",
        "Êò•ÈÖíÈ¶ôÁÜüÈ≤àÈ±ºÁæéÔºåË∞ÅÂêåÈÜâÔºüÁºÜÂç¥ÊâÅËàüÁØ∑Â∫ïÁù°„ÄÇ",
        "Ê¨¢Ë®ÄÂæóÊâÄÊÜ©ÔºåÁæéÈÖíËÅäÂÖ±Êå•„ÄÇ",
        "‰∏∫ÊàëÂºïÊùØÊ∑ªÈÖíÈ•ÆÔºå‰∏éÂêõÊääÁÆ∏ÂáªÁõòÊ≠å„ÄÇ",
        "‰∏ª‰∫∫ÊúâÈÖíÊ¨¢‰ªäÂ§ïÔºåËØ∑Â•èÈ∏£Áê¥ÂπøÈôµÂÆ¢„ÄÇ"
    ];

    const randomIndex = Math.floor(Math.random() * poemSentences.length);
    const randomSentence = poemSentences[randomIndex];

    document.getElementById('poem_sentence').innerText = '„Äå' + randomSentence + '„Äç';
</script>

<script>
  // ËÆ°ÁÆóÁõ∏ÂØπÊó∂Èó¥ÁöÑÂáΩÊï∞
  function getRelativeTime(date) {
    const rtf = new Intl.RelativeTimeFormat('zh-CN', { numeric: "auto", style: 'short' });

    const now = new Date();
    const diff = now - date;

    const seconds = Math.floor(diff / 1000);
    const minutes = Math.floor(seconds / 60);
    const hours = Math.floor(minutes / 60);
    const days = Math.floor(hours / 24);
    const months = Math.floor(days / 30);
    const years = Math.floor(days / 365);

    if (years > 0) {
      return rtf.format(-years, 'year');
    } else if (months > 0) {
      return rtf.format(-months, 'month');
    } else if (days > 0) {
      return rtf.format(-days, 'day');
    } else if (hours > 0) {
      return rtf.format(-hours, 'hour');
    } else if (minutes > 0) {
      return rtf.format(-minutes, 'minute');
    } else {
      return rtf.format(-seconds, 'second');
    }
  }

  // Êõ¥Êñ∞Áõ∏ÂØπÊó∂Èó¥ÊòæÁ§∫
  function updateRelativeTimes() {
    const timeElements = document.querySelectorAll('.ticker-item .datetime[data-time]');
    timeElements.forEach(element => {
      const timeStr = element.getAttribute('data-time');
      if (timeStr) {
        const date = new Date(timeStr);
        element.textContent = getRelativeTime(date);
      }
    });
  }

  // ÊªöÂä®ÊïàÊûú
  function slideTickerItem() {
    const tickerItems = document.querySelectorAll('.ticker-item');
    if (tickerItems.length > 1) {
      const activeItem = document.querySelector('.ticker-item.active');
      if (activeItem) {
        const nextIndex = (parseInt(activeItem.getAttribute('data-index')) + 1) % tickerItems.length;
        const nextItem = document.querySelector(`.ticker-item[data-index="${nextIndex}"]`);

        if (nextItem) {
          activeItem.classList.remove('active');
          activeItem.classList.add('out');
          nextItem.classList.add('in');

          setTimeout(() => {
            activeItem.classList.remove('out');
            nextItem.classList.remove('in');
            nextItem.classList.add('active');
          }, 300);
        }
      }
    }
    setTimeout(slideTickerItem, 3000);
  }

  // ÂàùÂßãÂåñ
  if (document.querySelector('#ticker')) {
    // Êõ¥Êñ∞Áõ∏ÂØπÊó∂Èó¥
    updateRelativeTimes();

    // ÂêØÂä®ÊªöÂä®ÊïàÊûú
    slideTickerItem();

    // ÂÆöÊúüÊõ¥Êñ∞Áõ∏ÂØπÊó∂Èó¥ÔºàÊØèÂàÜÈíüÊõ¥Êñ∞‰∏ÄÊ¨°Ôºâ
    setInterval(updateRelativeTimes, 60000);
  }
</script>
{{ $backgroundBlur := resources.Get "js/background-blur.js" }}
{{ $backgroundBlur = $backgroundBlur | resources.Minify | resources.Fingerprint (.Site.Params.fingerprintAlgorithm | default "sha512") }}
<script
  type="text/javascript"
  src="{{ $backgroundBlur.RelPermalink }}"
  integrity="{{ $backgroundBlur.Data.Integrity }}"
  data-target-id="background-blur"
  data-image-id="background-image"
  {{ if $homepageImage }}data-image-url="{{ $homepageImage.RelPermalink }}"{{ end }}></script>

{{ end }}
